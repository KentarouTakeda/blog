---
title: builderscon tokyo 2019 に参加
date: 2019/09/05 22:00
tags: 
  - builderscon
---

# 対戦ゲームに学ぶ、フレームワークの設計技法とAIのアルゴリズム入門 

対戦ゲーム、主にボードゲームのルールやAIの実装に関する話。

AIや思考ルーチンは専門外だがゲーム開発の過程でそれらを実装することは何度かあった。毎度Wikipediaやサンプルソースを読みながら苦労して実装しており、そこそこのものを実装できた自負はあるが体型立った知識は自分には無い。

という中での [@qsona](https://twitter.com/qsona) さんの発表。一通りの技術や実装時のハマりどころを網羅的にご説明された上でとにかく説明が分かりやすい。そして発表では説明しきれない箇所はnoteにまとめ済という親切ぶり。断片的だった知識が自分の中で統合されていくような、とてもありがたい内容だった。

{% twitter https://twitter.com/qsona/status/1167257601337221120 %}


最も興味深かったのは、ゲーム木の状態の変化に着目することでゲームの面白さを定量化できるのではないかという主張。

ゲームのルール考案では「一発逆転要素」「運ゲーはNGで…」と言ったキーワードが飛び交う。当然の要求なんだけどこれは要注意で、皆が感覚で語るのでたいてい収拾がつかない。そこを定量的に測ろうというのは自分にとって目から鱗。とある案件で四苦八苦していた2年前の自分に教えてあげたい。

一番心に残ったのは、発表者の qsona さんの人柄だ。発表の途中、水分補給の小休止ついでにTwitter上の反応を軽く見る一幕があったのだが、「うわ！みんな面白いって言ってくれてる！嬉しい！！」と、登壇中にも関わらず子供のように無邪気に喜ばれていた。このピュアな人柄に皆を楽しませたいという真摯な想いが加わって、この素晴らしい発表になったのだと思う。qsonaさん、楽しかったです！


# 非同期処理の歴史から見たコンピューティングの進化


文字通りの内容なのだが、座学・実務、双方の面より価値があった。

<script async class="speakerdeck-embed" data-id="6c19869574424e31880f1076fa72aafa" data-ratio="1.77777777777778" src="//speakerdeck.com/assets/embed.js"></script>

何故非同期処理が必要になり始めたのかから始まり、それにより発生し始めた実装上の課題、克服するための言語の進化と限界、対応の新たなパラダイム、そして最新動向…

「非同期処理」といういち側面を掘り下げることで最近のコンピューターやプログラム言語の歴史をダイジェストで体感させてもらえるようなセッションだった。歴史は重要だ。

自分は JSer なので async/await には一家言ある。Promise のシンタックスシュガーであることを知らぬまま同期実行の感覚でコードを書くとパフォーマンスに支障が出ることがある、よく指摘されがちな言説でこれには自分も同意だが async/await が何故生まれ何を解決しようとしているのか理解した人は概ねこの間違いは侵さない。歴史を知り言語の思想を俯瞰する、という観点で実りの多い内容だった。


# PWAゲームを開発しネイティブアプリ化までした中での課題と対策

ゲーム、アセット4G超、マスタデータ50M超、この時点で実装の泥臭さが垣間見える。それを PWA で実装したという話。

<script async class="speakerdeck-embed" data-id="1c2ac66a27074c609e26dcf0c754e367" data-ratio="1.33333333333333" src="//speakerdeck.com/assets/embed.js"></script>

ゲーム開発は泥臭い。数フレームの描画や入力の遅延がUXに致命的な悪影響を与える世界では手段を選ぶ余地など無い。一方フロントエンドの開発は設計やテスタビリティを重視することが多いように思う。この矛盾する要求をどう解決しているのかを聞くために足を運んだ。

はずだったのだが、その期待は良い意味で裏切られ続けた。なんてことはない、普通に泥臭い実装を愚直に積み重ねていた。特にフロントエンドというソース丸見えの世界でクラッカー（チーター）の攻撃からゲームを守る話には終始頭の下がる思いだった。

*「わざわざそこまでやるやつはいないだろう」と誰かが言うたびにわざわざそこまでやるやつが現れる*

別のセッションで引用されたあるハッカーの言葉だがこれはその先を行く話だ。わざわざそこまでやるやつが現れる度に、開発者はその穴を塞いでいく。いいゲーム、公平なゲームを提供しようという情熱の為せる技だ。

# もしもハッカーの「サイバー攻撃日誌」が読めたら

一言でいうと、圧倒された。

企業向けセキュリティ診断サービスの紹介なのだが、よくある脆弱性診断ではなく、専門のチームが実際にクライアントのシステムに攻撃を仕掛けることでセキュリティ上の課題を洗い出していく。

攻撃の手段は問わない（※1）。フィッシングやマルウェアは言わずもがな、ソーシャルエンジニアリング、社員証や入館証の偽造、物理侵入、ありとあらゆる手段を用いてクライアントに擬似的な攻撃を仕掛け、その資産を奪取する。

{% twitter https://twitter.com/FruitRiin/status/1167684368929873920 %}

手法自体は、少しでもセキュリティをかじった人であればよく知っているものばかりだ。しかし防御側でなく攻撃側（登壇者自信が自分をそう表現していた）の視点に切り替えると、景色が全く変わってくる。以下が登壇者である Tsubomitch 氏の発現だ。（うろ覚えなので細かい言い回しは異なるかもしれない）

*「パスワード、ハッシュ化されてますけどまあクラックすれば良くて」*  
*「フィッシングは数撃ちゃ当たります」*  
*「知識認証？マイドキュメント辺りに答えがあるので」*  

*「MITMでも盗れるんですけど面倒なので…」*  
*「対応や横展開が早い相手が一番やりにくい」*  
*「二要素認証がとにかく嫌い」*  

なるほど確かに。

自分はたまに防御側としてゲームのチーターとコンソール越しに「戦う」ことがある。いつまでたっても攻撃が止まずどうしようか考えあぐねた時は、相手の人物像を思い浮かべてみると撃退できることが多い。頻度や手口、攻撃の停止や再開のタイミングを見れば相手の想像は何となくつく。そこで「一番嫌がりそうなこと」をやってみたら驚くほどすんなり攻撃が止んだ、ということが何度かある。

> 攻撃者の思考パターンや試行錯誤の過程を記録した「サイバー攻撃日誌」のようなものを（もしも）読むことができたなら、どのようにシステムを守ればよいかに関する新たな洞察を得ることができるはずです。

https://builderscon.io/builderscon/tokyo/2019/session/7d4a4b60-298e-4266-b11d-60dfcebada54

自分なりの試行錯誤ではあったが、CfPにも書かれていたことをまさにやっていたようだ。今までは想像の中だけだったが、今回は実際の「攻撃側」の話を聞くことができ、大変エキサイティングな時間だった。名残惜しい点があるとしたら、「登壇者と聴衆」ではなく実際の「攻撃側と防御側」としてこのエキサイティングな時間を…、いや、いくらなんでもRed Teamは相手が悪すぎる。やめておこう。


※1 もちろんクライアントとの間で取り交わされた事前の取り決めの範囲内に限る。
